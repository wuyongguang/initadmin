(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2abcfd7a"],{"184e":function(e,t,a){},"1f38":function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n});var i=function(){return"undefined"!==typeof window?window:e},n=function(){var e=i();return e&&e.tinymce?e.tinymce:null}}).call(this,a("c8ba"))},"1f70":function(e,t,a){"use strict";var i=a("aa0f"),n=a.n(i);n.a},"386d":function(e,t,a){"use strict";var i=a("cb7c"),n=a("83a1"),o=a("5f1b");a("214f")("search",1,function(e,t,a,r){return[function(a){var i=e(this),n=void 0==a?void 0:a[t];return void 0!==n?n.call(a,i):new RegExp(a)[t](String(i))},function(e){var t=r(a,e,this);if(t.done)return t.value;var s=i(e),l=String(this),m=s.lastIndex;n(m,0)||(s.lastIndex=0);var u=o(s,l);return n(s.lastIndex,m)||(s.lastIndex=m),null===u?-1:u.index}]})},"38e6":function(e,t,a){"use strict";var i=a("184e"),n=a.n(i);n.a},"4ba3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("IaHead"),a("div",{staticClass:"body"},[e._m(0),a("div",{staticClass:"container"},[a("IbuilderForm",{attrs:{cloud_id:e.cloud_id,api:e.api,foot_hide:!1}})],1)]),a("IaFoot")],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-banner"},[a("h1",{staticClass:"title"},[e._v("发布新帖")]),a("p",{staticClass:"info"},[e._v("\n                请自行使用图床资源存放图片\n            ")])])}],o=a("ca11"),r=a("d123"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-wrapper"},[""!=this.data?[e.data.form_tabs.length>0?[a("Tabs",{attrs:{value:e.data.form_tabs[0].name}},[e._l(e.data.form_tabs,function(t,i){return[void 0!=t.form_items?a("TabPane",{key:i+"_"+t.name,attrs:{label:t.title,name:t.name}},[a("Form",{ref:e.ref+"_"+t.name,refInFor:!0,attrs:{model:e.data.form_values[t.name].tab_values,"label-position":e.label_position,"label-width":e.label_width,rules:t.form_rules},nativeOn:{submit:function(e){e.preventDefault()}}},[e._l(t.form_items,function(i,n){return[""!=t.form_rules[i.name]?[a("IbuilderformItem",{key:n,ref:"formitem_"+t.name+"_"+i.name,refInFor:!0,attrs:{item:i,form_values:e.data.form_values[t.name].tab_values,prop:i.name}})]:[a("IbuilderformItem",{key:n,ref:"formitem_"+t.name+"_"+i.name,refInFor:!0,attrs:{item:i,form_values:e.data.form_values[t.name].tab_values}})]]})],2)],1):e._e()]}),e._v(">\n            ")],2)]:[a("Form",{ref:e.ref,attrs:{model:e.data.form_values,"label-position":e.label_position,"label-width":e.label_width,rules:e.data.form_rules},nativeOn:{submit:function(e){e.preventDefault()}}},[e._l(e.data.form_items,function(t,i){return[""!=e.data.form_rules[t.name]?[a("IbuilderformItem",{key:i,ref:"formitem_"+t.name,refInFor:!0,attrs:{item:t,form_values:e.data.form_values,prop:t.name}})]:[a("IbuilderformItem",{key:i,ref:"formitem_"+t.name,refInFor:!0,attrs:{item:t,form_values:e.data.form_values}})]]})],2)],0==this.foot_hide?a("div",[a("Divider"),a("Button",{staticStyle:{"margin-right":"15px"},attrs:{loading:e.loading,type:"primary",size:"large"},on:{click:function(t){return e.submit()}}},[e._v("\n                确认提交\n            ")]),a("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){return e.cancel()}}},[e._v("\n                取消操作\n            ")])],1):e._e()]:[a("Row",[a("Col",{staticClass:"spin-col",attrs:{span:"24"}},[a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"22"}}),a("div",[e._v("Loading")])],1)],1)],1)]],2)},l=[],m=(a("386d"),a("7f7f"),a("96cf"),a("3b8d")),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("FormItem",{attrs:{label:e.item.title,prop:e.prop}},["divider"==e.item.type?[a("Divider")]:"static"==e.item.type?[a("span",[e._v(e._s(e.item.value))])]:"text"==e.item.type?[a("Input",{attrs:{placeholder:e.item.extra.placeholder},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"password"==e.item.type?[a("Input",{attrs:{type:"password",placeholder:e.item.extra.placeholder},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"url"==e.item.type?[a("Input",{attrs:{type:"url",placeholder:e.item.extra.placeholder},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"email"==e.item.type?[a("Input",{attrs:{type:"email",placeholder:e.item.extra.placeholder},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"date"==e.item.type?[a("Input",{attrs:{type:"date",placeholder:e.item.extra.placeholder},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"number"==e.item.type?[a("Input",{attrs:{type:"number",placeholder:e.item.extra.placeholder},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"digit"==e.item.type?[a("Input",{attrs:{type:"text",placeholder:e.item.extra.placeholder},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"tel"==e.item.type?[a("Input",{attrs:{type:"tel",placeholder:e.item.extra.placeholder},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"textarea"==e.item.type?[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:e.item.extra.placeholder},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"array"==e.item.type?[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:e.item.extra.placeholder},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"markdown"==e.item.type?[a("i-editor",{attrs:{placeholder:e.item.extra.placeholder,autosize:!0,paste:!0},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"tinymce"==e.item.type?[a("editor",{attrs:{"api-key":"y1buzf80o0qtt4lt3pfj0yh98ilgq4ts6mf3nwjpqky9ea49",init:{language:"zh_CN",language_url:"/libs/tinymce/langs/zh_CN.js",branding:!0,plugins:"link lists image code table colorpicker textcolor wordcount contextmenu",toolbar:"bold italic underline strikethrough | fontselect fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent blockquote | undo redo | link unlink image code | removeformat",height:300,font_formats:"\n                      微软雅黑=微软雅黑;\n                      宋体=宋体;\n                      黑体=黑体;\n                      仿宋=仿宋;\n                      楷体=楷体;\n                      隶书=隶书;\n                      幼圆=幼圆;\n                      Andale Mono=andale mono,times;\n                      Arial=arial, helvetica,\n                      sans-serif;\n                      Arial Black=arial black, avant garde;\n                      Book Antiqua=book antiqua,palatino;\n                      Comic Sans MS=comic sans ms,sans-serif;\n                      Courier New=courier new,courier;\n                      Georgia=georgia,palatino;\n                      Helvetica=helvetica;\n                      Impact=impact,chicago;\n                      Symbol=symbol;\n                      Tahoma=tahoma,arial,helvetica,sans-serif;\n                      Terminal=terminal,monaco;\n                      Times New Roman=times new roman,times;\n                      Trebuchet MS=trebuchet ms,geneva;\n                      Verdana=verdana,geneva;\n                      Webdings=webdings;\n                      Wingdings=wingdings,zapf dingbats"}},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"select"==e.item.type?[a("Select",{model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}},e._l(e.item.extra.options,function(t,i,n){return a("Option",{key:n,attrs:{value:t.value}},[e._v("\n                  "+e._s(t.title)+"\n              ")])}),1)]:"radio"==e.item.type?[a("RadioGroup",{model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}},e._l(e.item.extra.options,function(t,i,n){return a("Radio",{key:n,attrs:{label:t.value}},[a("span",[e._v(e._s(t.title))])])}),1)]:"checkbox"==e.item.type?[a("CheckboxGroup",{model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}},e._l(e.item.extra.options,function(e,t,i){return a("Checkbox",{key:i,attrs:{label:e.title}})}),1)]:"switch"==e.item.type?[a("i-switch",{attrs:{"true-value":e.item.extra.options[0].value,"false-value":e.item.extra.options[1].value,size:"large"},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.item.extra.options[0].title))]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.item.extra.options[1].title))])])]:"slider"==e.item.type?[a("Slider",{attrs:{range:""},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"datepicker"==e.item.type?[a("DatePicker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.iform_values[e.item.name],callback:function(t){e.$set(e.iform_values,e.item.name,t)},expression:"iform_values[item.name]"}})]:"timepicker"==e.item.type?[a("TimePicker",{attrs:{type:"time",placeholder:"选择时间"},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"datetimepicker"==e.item.type?[a("Row",[a("Col",{attrs:{span:"11"}},[a("DatePicker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form_values[e.item.name][0],callback:function(t){e.$set(e.form_values[e.item.name],0,t)},expression:"form_values[item.name][0]"}})],1),a("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[e._v("-")]),a("Col",{attrs:{span:"11"}},[a("TimePicker",{attrs:{type:"time",placeholder:"选择时间"},model:{value:e.form_values[e.item.name][1],callback:function(t){e.$set(e.form_values[e.item.name],1,t)},expression:"form_values[item.name][1]"}})],1)],1)]:"rate"==e.item.type?[a("Rate",{model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"cascader"==e.item.type?[a("Cascader",{attrs:{data:e.item.extra.options,size:"large"},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"colorpicker"==e.item.type?[a("ColorPicker",{model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})]:"image"==e.item.type?[e._l(e.item.value,function(t){return a("div",{staticClass:"image-list"},[""!==t.url?[a("img",{attrs:{src:t.url}}),a("div",{staticClass:"image-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){return e.handleView(t.url)}}}),a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){return e.handleRemove(t,e.item.name)}}})],1)]:[t.showProgress?a("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2)}),a("Upload",{ref:"upload_"+e.item.name,staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,headers:{Authorization:e.token},"default-file-list":e.item.value,format:e.item.extra.format,"max-size":e.item.extra.max_size,"on-success":e.handleSuccess,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,data:{item_name:e.item.name},type:"drag",action:e.item.extra.action}},[a("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[a("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)])]:"images"==e.item.type?[e._l(e.item.value,function(t){return a("div",{staticClass:"image-list"},[""!==t.url?[a("img",{attrs:{src:t.url}}),a("div",{staticClass:"image-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){return e.handleView(t.url)}}}),a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){return e.handleRemove(t,e.item.name)}}})],1)]:[t.showProgress?a("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2)}),a("Upload",{ref:"upload_"+e.item.name,staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,headers:{Authorization:e.token},"default-file-list":e.item.value,format:e.item.extra.format,"max-size":e.item.extra.max_size,"on-success":e.handleSuccessBatch,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,data:{item_name:e.item.name},multiple:"",type:"drag",action:e.item.extra.action}},[a("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[a("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)])]:"file"==e.item.type?[a("Upload",{ref:"upload_"+e.item.name,attrs:{"show-upload-list":!0,headers:{Authorization:e.token},"default-file-list":e.item.value,format:e.item.extra.format,"max-size":e.item.extra.max_size,"on-success":e.handleSuccess,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,data:{item_name:e.item.name},type:"drag",action:e.item.extra.action}},[a("div",{staticStyle:{padding:"20px 0"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"42"}}),a("p",[e._v("点击或者拖动文件到此处上传")])],1)])]:"files"==e.item.type?[a("Upload",{ref:"upload_"+e.item.name,attrs:{"show-upload-list":!0,headers:{Authorization:e.token},"default-file-list":e.item.value,format:e.item.extra.format,"max-size":e.item.extra.max_size,"on-success":e.handleSuccessBatch,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,data:{item_name:e.item.name},multiple:"",type:"drag",action:e.item.extra.action}},[a("div",{staticStyle:{padding:"20px 0"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"42"}}),a("p",[e._v("点击或者拖动文件到此处上传")])],1)])]:"checkboxtree"==e.item.type?[a("tree-table",{ref:"checkboxtree_"+e.item.name,attrs:{"expand-key":e.item.extra.expand_key,"is-fold":!0,border:!0,stripe:!1,selectable:!0,"expand-type":!1,columns:e.item.extra.columns,data:e.item.extra.data}})]:"formlist"==e.item.type?[a("Row",e._l(e.item.extra.options,function(t,i,n){return a("div",{key:n},[a("Col",{attrs:{span:t.span}},[e._v("\n                      "+e._s(t.title)+"\n                  ")])],1)}),0),e._l(e.form_values[e.item.name],function(t,i,n){return a("Row",{key:n},[e._l(e.item.extra.options,function(t,n,o){return a("div",{key:o},[a("Col",{attrs:{span:t.span}},[a("Input",{model:{value:e.form_values[e.item.name][i][t.value],callback:function(a){e.$set(e.form_values[e.item.name][i],t.value,a)},expression:"form_values[item.name][key2][item3.value]"}})],1)],1)}),a("Button",{attrs:{type:"dashed"},on:{click:function(t){return e.formlist_delrow(e.item.name,i)}}},[e._v("删除")])],2)}),a("Button",{staticStyle:{"margin-top":"8px"},attrs:{type:"dashed",icon:"md-add"},on:{click:function(t){return e.formlist_addrow(e.item.name)}}},[e._v("\n            增加一行\n          ")])]:[a("Input",{attrs:{placeholder:e.item.extra.placeholder},model:{value:e.form_values[e.item.name],callback:function(t){e.$set(e.form_values,e.item.name,t)},expression:"form_values[item.name]"}})],a("Modal",{attrs:{title:"预览"},model:{value:e.preview_image_visible,callback:function(t){e.preview_image_visible=t},expression:"preview_image_visible"}},[e.preview_image_visible?a("img",{staticStyle:{width:"100%"},attrs:{src:e.preview_image_url}}):e._e()]),a("div",{staticStyle:{color:"#aaa","font-size":"12px"}},[e._v(e._s(e.item.extra.tip))])],2)],1)},c=[],d=(a("c276"),["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"]),f=function(e){return-1!==d.indexOf(e)},p=function(e,t,a){Object.keys(t).filter(f).forEach(function(i){var n=t[i];"function"===typeof n&&("onInit"===i?n(e,a):a.on(i.substring(2),function(e){return n(e,a)}))})},v=function(e,t){var a,i=e.$props.modelEvents?e.$props.modelEvents:null,n=Array.isArray(i)?i.join(" "):i;e.$watch("value",function(e,i){t&&"string"===typeof e&&e!==a&&e!==i&&(t.setContent(e),a=e)}),t.on(n||"change keyup undo redo",function(){a=t.getContent(),e.$emit("input",a)})},h=function(e,t,a){var i=t.$props.value?t.$props.value:"",n=t.$props.initialValue?t.$props.initialValue:"";a.setContent(i||n),t.$listeners.input&&v(t,a),p(e,t.$listeners,a)},_=0,b=function(e){var t=Date.now(),a=Math.floor(1e9*Math.random());return _++,e+"_"+a+_+String(t)},y=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},g=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},x=function(e,t){return g(e).concat(g(t))},k=function(e,t,a,i){var n=t.createElement("script");n.type="application/javascript",n.id=e,n.addEventListener("load",i),n.src=a,t.head&&t.head.appendChild(n)},w=function(){return{listeners:[],scriptId:b("tiny-script"),scriptLoaded:!1}},$=function(e,t,a,i){e.scriptLoaded?i():(e.listeners.push(i),t.getElementById(e.scriptId)||k(e.scriptId,t,a,function(){e.listeners.forEach(function(e){return e()}),e.scriptLoaded=!0}))},I=a("1f38"),C={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean},S=function(){return S=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var n in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},S.apply(this,arguments)},z=w(),O=function(e,t,a){return e(a||"div",{attrs:{id:t}})},R=function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})},D=function(e){return function(){var t=S({},e.$props.init,{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:x(e.$props.init&&e.$props.init.plugins,e.$props.plugins),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",function(a){return h(a,e,t)}),e.$props.init&&"function"===typeof e.$props.init.setup&&e.$props.init.setup(t)}});y(e.element)&&(e.element.style.visibility=""),Object(I["a"])().init(t)}},F={props:C,created:function(){this.elementId=this.$props.id||b("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(I["a"])())D(this)();else if(this.element&&this.element.ownerDocument){var e=this.element.ownerDocument,t=this.$props.cloudChannel?this.$props.cloudChannel:"5",a=this.$props.apiKey?this.$props.apiKey:"",i="https://cloud.tinymce.com/"+t+"/tinymce.min.js?apiKey="+a;$(z,e,i,D(this))}},beforeDestroy:function(){null!==Object(I["a"])()&&Object(I["a"])().remove(this.editor)},render:function(e){return this.inlineEditor?O(e,this.elementId,this.$props.tagName):R(e,this.elementId)}},M=F,j={name:"IbuilderFormItem",components:{editor:M},props:{prop:"",item:{},form_values:{}},data:function(){return{token:"",preview_image_visible:!1,preview_image_url:""}},created:function(){if(this.token=this.util.getToken(),"image"==this.item.type){var e=new Array,t=new Object;this.item.value?(t.url=this.item.value,e.push(t),this.item.value=e):this.item.value=new Array}},beforeMount:function(){},mounted:function(){},methods:{handleSuccess:function(e,t,a){if(200==e.code){t.name=e.data.name,t.url=e.data.url;var i=new Array;i[0]=t,i,this.item.value=i,this.form_values[e.data.item_name]=t.url}else this.$Notice.warning({title:e.info})},handleRemove:function(e,t){this.form_values[t];this.form_values[t]="",this.item.value=new Array},handleSuccessBatch:function(e,t,a){200==e.code?(t.name=e.data.name,t.url=e.data.url,this.form_values[e.data.item_name].push({name:e.data.name,url:e.data.url})):this.$Notice.warning({title:e.info})},handleRemoveBatch:function(e,t){var a=this.form_values[t];this.item.value.splice(a.indexOf(e),1),this.form_values[t].splice(a.indexOf(e),1)},handleFormatError:function(e){this.$Notice.warning({title:"文件格式不正确",desc:"文件"+e.name+"的格式不正确, 请重新选择。"})},handleMaxSize:function(e){this.$Notice.warning({title:"文件大小不正确",desc:"文件"+e.name+"太大了, 不支持超过1M。"})},handleView:function(e){this.preview_image_url=e,this.preview_image_visible=!0},handleBeforeUpload:function(){return!0},formlist_addrow:function(e){this.form_values[e].push(new Object)},formlist_delrow:function(e,t){this.form_values[e].splice(t,1)},getChecked:function(e){return this.$refs["checkboxtree_"+this.item.name].getCheckedProp(e)}},watch:{}},B=j,E=(a("38e6"),a("2877")),A=Object(E["a"])(B,u,c,!1,null,null,null),P=A.exports,U={name:"IbuilderForm",components:{IbuilderformItem:P},props:{api:"",cloud_id:0,foot_hide:!1},data:function(){return{loading:!1,ref:"form",data:"",label_position:"right",label_width:100}},created:function(){this.ref="form_"+(new Date).getTime()},beforeMount:function(){},mounted:function(){this.loadData()},activated:function(){},deativated:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},computed:{},methods:{loadData:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t,a,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:"",""!=t&&(this.api=t),!this.api){e.next=7;break}return e.next=5,this.util.request({url:this.api,method:"get",header:{CloudId:this.cloud_id}});case 5:a=e.sent,"200"==a.code?this.data=a.data.form_data:this.$Message.error(a.msg);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),submit:function(){if(this.loading=!0,this.data.form_tabs.length>0){for(var e=0;e<this.data.form_tabs.length;e++)for(var t in this.data.form_tabs[e]["form_items"])if("checkboxtree"==this.data.form_tabs[e]["form_items"][t].type){var a=this.$refs["formitem_"+this.data.form_tabs[e]["name"]+"_"+this.data.form_tabs[e]["form_items"][t].name][0].getChecked("admin_auth");this.data.form_values[this.data.form_tabs[e]["name"]]["tab_values"][this.data.form_tabs[e]["form_items"][t].name]=a}}else for(var i in this.data.form_items)if("checkboxtree"==this.data.form_items[i].type){var n=this.$refs["formitem_"+this.data.form_items[i].name][0].getChecked("admin_auth");this.data.form_values[this.data.form_items[i].name]=n}var o=!1;if(0==this.data.form_rules.length)o=!0;else if(this.data.form_tabs.length>0){for(var r="",s=0;s<this.data.form_tabs.length;s++)this.$refs[this.ref+"_"+this.data.form_tabs[s]["name"]][0].validate(function(e){r+=e?"true":"false"});-1==r.search("false")&&(o=!0)}else this.$refs[this.ref].validate(function(e){e&&(o=!0)});return o?this.submitForm():(this.loading=!1,!1)},submitForm:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.util.request({url:this.api,method:this.data.form_method,data:this.data.form_values,header:{CloudId:this.cloud_id}});case 2:return t=e.sent,"200"==t.code?this.$Message.success(t.msg):this.$Message.error(t.msg),this.loading=!1,e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){if(this.data.form_tabs.length>0)for(var e=0;e<this.data.form_tabs.length;e++)this.$refs[this.ref+"_"+this.data.form_tabs[e]["name"]][0].resetFields();else this.$refs[this.ref].resetFields()}},watch:{api:function(){this.loadData()}}},N=U,T=(a("1f70"),Object(E["a"])(N,s,l,!1,null,null,null)),q=T.exports,L={components:{IaHead:o["a"],IaFoot:r["a"],IbuilderForm:q},data:function(){return{cloud_id:1,loading:!1,api:"/v1/icms/post/add"}},created:function(){},methods:{}},V=L,K=Object(E["a"])(V,i,n,!1,null,"f1c57df8",null);t["default"]=K.exports},"7f7f":function(e,t,a){var i=a("86cc").f,n=Function.prototype,o=/^\s*function ([^ (]*)/,r="name";r in n||a("9e1e")&&i(n,r,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},aa0f:function(e,t,a){}}]);